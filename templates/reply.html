{% extends 'base.html' %}

{% block title %}{{ post.title }}{% endblock %}

{% block content %}
    <link rel="stylesheet" type="text/css" href="/static/css/reply.css">
    <div class="container">
        <button id="toggleReplySectionBtn" class="toggle-reply-btn">
            <img src="/static/icons/post.png" alt="Toggle Replies" />
        </button>
        <div id="thread-content" data-post-id="{{ post._id }}">
            <h2>{{ post.title }}</h2>
            <p class="thread-content">{{ post.content }}</p>
            <p class="post-author">Posted by: {{ author }}</p>
        </div>
        

        <div id="replies-container">
            <h3>Replies</h3>
            {% for reply in replies %}
            <div class="reply">
                <p class="reply-content">{{ reply.content }}</p>
                <div class="reply-details">
                    <span class="posted-by">Posted by: {{ reply.author }}</span> 
                    <span class="time-ago">{{ reply.timestamp }}</span>
                </div>
            </div>
            {% endfor %}
        </div>
        
        <div id="reply-section">
            <h3>Leave a Reply</h3>
            <form id="replyForm">
                <textarea id="replyContent" placeholder="Type your reply here..."></textarea>
                <button type="submit">Submit Reply</button>
            </form>
        </div>
        <script src="/static/js/reply.js"></script>
    </div>
{% endblock %}